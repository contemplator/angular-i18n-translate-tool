<div id="header" class="p-2 border-bottom-1">
  <div class="page-titme mb-2 font-semibold">翻譯工具 - 只支援 xlf 檔案</div>

  <div class="flex justify-content-between">
    <div class="upload-field">
      <div>
        <label>
          選擇翻譯原檔案
          <input type="file" (change)="onFileUpload($event)">
        </label>
      </div>
      <div>
        <label>
          可另外選擇翻譯比較檔案，一經上傳就會覆蓋翻譯結果
          <input type="file" (change)="onFileCompareUpload($event)" [disabled]="compareFileUpload === true">
        </label>
      </div>
    </div>
    <div class="tool-field">
      <button pButton class="p-button-sm mr-2" (click)="onGoogleTranslateClick()" label="Google 翻譯"></button>
      <button pButton class="p-button-sm" (click)="onExportClick()" label="匯出"></button>
    </div>
  </div>
</div>


<div class="translate-table">
  <p-table [value]="transList" [scrollable]="true" [scrollHeight]="scrollHeight">
    <ng-template pTemplate="header">
      <tr>
        <th>Id</th>
        <!-- <th>位置</th> -->
        <th>意義</th>
        <th>說明</th>
        <th>原始字樣</th>
        <th>翻譯結果</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-item>
      <tr>
        <td>{{item.$.id}}</td>
        <!-- <td>
          <ng-container *ngIf="item['context-group']">{{getFilePath(item['context-group'][0].context[0]._)}}</ng-container>
        </td> -->
        <td>
          <ng-container *ngIf="item.note && item.note[0]">
            {{item.note[0]._}}
          </ng-container>
        </td>
        <td>
          <ng-container *ngIf="item.note && item.note[1]">
            {{item.note[1]._}}
          </ng-container>
        </td>
        <td>
          <span>
            {{item.source[0]}}
          </span>
        </td>
        <td>
          <input type="text" pInputText [(ngModel)]="item.target[0]">
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>